22121913：
1.新增报警状态07，当前方有遮挡时状态位为07（0-180°累计超过30个点距离值为0且前沿小于1000）
2.报警满足条件报警点距离输出值为25000mm，可由指令开关：02 02 02 02 00 0B 01 25 01 1E 58
01 为开启输出距离值为25000，00为关闭。1E为累计报警点数30

读取指令：02 02 02 02 00 09 00 26 37 

23010618：
1.新增报警状态07，当前方有遮挡时状态位为07（0-180°累计超过设定值个点距离值为0且前沿小于设定值）
2.报警满足条件报警点距离输出值为25000mm，可由指令开关：02 02 02 02 00 0D 01 25 01 1E 03 E8 45；读取指令：02 02 02 02 00 09 00 26 37 
01 为开启输出距离值为25000，00为关闭。1E为累计报警点数30。03 E8为前沿设定值
3.异常值超过20%（0-180°的20%）时停止数据输出。
4.在线升级保存功能修改：在线升级保存指令发送后，由原先的立刻回复修改为flash操作完成后回复，大概时间2s左右，需配合新版在线升级上位机使用，否则上位机会报超时。
5.在线升级文件第一包判断：检测到从上位机升级到雷达的文件中，第一包的固定地址（h150-h153）为FF FF BD B3时才认为是正确的文件，否则判断文件错误升级失败。
6.在线升级通用修改：需测在线升级以及烧写系数功能。


23011112：
1.新增报警状态07，当前方有遮挡时状态位为07（0-180°累计超过设定值个点距离值为0且前沿小于设定值）
2.判断条件中的前沿值为程序从flash的系数中读到的第一个非0正值所对应的前沿值。
3.报警满足条件报警点距离输出值为25000mm，可由指令开关：02 02 02 02 00 0B 01 25 01 1E 58 ；读取指令：02 02 02 02 00 09 00 26 37 ；回复：02 02 02 02 00 0D 10 26 00 1E 03 40 AC ；其中，03 40为从flash所存系数中读到的值，不需要人为设置。
01 为开启输出距离值为25000，00为关闭。1E为累计报警点数30。03 E8为前沿设定值
4.异常值超过20%（0-180°的20%）时停止数据输出，上一条开关指令也对本功能生效。
5.在线升级保存功能修改：在线升级保存指令发送后，由原先的立刻回复修改为flash操作完成后回复，大概时间2s左右，需配合新版在线升级上位机使用，否则上位机会报超时。
6.在线升级文件第一包判断：检测到从上位机升级到雷达的文件中，第一包的固定地址（h150-h153）为FF FF BD B3时才认为是正确的文件，否则判断文件错误升级失败。
7.在线升级通用修改：需测在线升级以及烧写系数功能。

23013010：修复在线升级时判断文件是否正确的BUG。

23040711：
1.通过系数算出来的距离值大于0小于5是，输出65533，通过系数算出距离值为0，输出65534，通过系数算出距离值大于25m，输出65535 。
2.在点数1032到1052即344到350的角度中，若大于80%的点的前后沿都为0时，报APD异常，状态位显示08。

23041118：
1.通过系数算出来的距离值大于0小于5是，输出65533，通过系数算出距离值为0，输出65534，通过系数算出距离值大于25m，输出65535 。
2.在点数1032到1052即344到350的角度中，若大于80%的点的前后沿都为0时，报APD异常，状态位显示08。
3.若前后沿都为0时输出距离也为65533。
4.只有在状态为为01时才输出点云，其他状态位不输出。

23041316：修复电机突然失效，雷达在不出数据的情况下状态位仍然是01的bug

23041411：把之前脏污点输出距离由25m改为65533

23050816：
1. 修改了APD报错的判断逻辑，将40%的判断修改为正确的80%
2. 修改了报错灯亮灯的逻辑，只要不是正常状态，灯就会亮
3. 修改了脏污报警的相关逻辑，使脏污报警的开关起到作用

23050819：
1. 当雷达处于标定模式时，不判断码盘状态


24070214：基于23050819版本
1:以前：
   1.1 启动时从只检测用户参数；
       case 1：用户参数 检验OK ，加载用户参数；
       case 2:  用户参数 检验ERROR ，加载默认参数（192.168.1.111);

    1.2 保持用户参数指令只保存用户参数；
 
2 现在：
    2.1 启动时顺序检测用户参数和用户参数备份(以前工程参数分区)；
      case 1: 用户参数 检验OK 和  用户参数备份 检验OK；   优先加载用户参数；
      case 2: 用户参数 检验OK 和  用户参数备份 检验ERROR； 加载用户参数 且将用户参数保存到用户参数备份分区；
      case 3: 用户参数 检验ERROR 和  用户参数备份 检验OK； 加载备份的用户参数 且 将备份的用户参数保存到用户参数分区；
      case 4: 用户参数 检验ERROR 和  用户参数备份 检验ERROR , 加载默认参数（192.168.1.111)；
   2.2 保持用户参数指令： a: 保存用户参数；b: 将用户参数保存到用户参数备份分区;

24071609：基于24070214版本
对外
1:解决修改参数时断电导致测距输出的点云值变成65533的异常值的问题；
对内
2:修复内部逻辑节拍错误；
3:引入参数分区和参数备份分区同步机制，即使参数分区和参数备份分区的校验都通过，但是两者的校验值不一样也会触发参数备份分区更新为参数分区的值；
4:开机后第一轮参数检测决定电机-码盘控制模块的单独复位信号；
5:开机后第一轮检测和可能的第二轮检测共同决定发光模块，网络模块等的复位信号；


24071609：时间修改日期：20240928
  固件版本号不变，还是24071609；
    修改此项：r_set_para0 <= {26'h0, load_para_first_flag,load_para_lock_flag,r_rst_n,o_motor_rst_n,check_result};  ->      r_set_para0 <= {16'h0, r_fixed_value};
				    			

24071609：时间修改日期：20240929
  固件版本号不变，使用 diamond 3.12 生成固件 C200_FPGA_24071609_haikang_v3_12.bit；

24121720
  1：增加调试信息;
     2：C200_FPGA_24121720_haikang_v3_12.bit； ：301A9DA0;

24122218
  1：修复tdc_process.v 内部bug ;
  2: 规范dist_packet.v 内部包结构字段；
  C200_FPGA_24122218_haikang_v3_12.bit CRC32   ：095DDC16

25010717：
  1：解决选择的角度区间对应的点数是128的整数倍时最后一包输出的有效点数为零的问题；

25010717：
   C200_FPGA_25042316_haikang_v3_12;CRC32：50D824C0;
 增加统计信息

  新增指令说明:
 	SEND HEX>
  02 02 02 02 00 09 00 7D 8E 
  RECV HEX>
  02 02 02 02 00 0E 10 7D 78 9A BC DE 00 XX

  7: 从正常状态1进入状态8的计数，APD异常;
  8: 从正常状态1进入状态7的计数，脏污;
  9: 从正常状态1进入状态6的计数，过度状态;
  A: 从正常状态1进入状态5的计数，脉宽模式下异常;
  B: 从正常状态1进入状态4的计数，APD高压异常;
  C: 从正常状态1进入状态3的计数，APD温度异常;
  D: 从正常状态1进入状态2的计数，TDC异常;
  E: 从正常状态1进入状态0的计数，失速;













